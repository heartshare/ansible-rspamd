---

# Configuration of custom APT preferences.
rspamd_apt_preferences_dependent_list:

  - package: '*'
    pin: 'release xenial'
    priority: '40'
    filename: "xenial.pref"

  - package: 'exim4-base exim4-config eximon4'
    version: "4.86"
    reason: 'Support rspamd in exim'
    priority: '600'
    suffix: '_exim'
    role: 'le9i0nx.rspamd'

rspamd_repositories_key:

  - url: "https://rspamd.com/apt-stable/gpg.key"

rspamd_repositories:

  - repo: 'deb http://rspamd.com/apt-stable/ trusty main'
  - repo: 'deb http://archive.ubuntu.com/ubuntu xenial main'

rspamd_ferm_dependent_rules: []

# .. envvar:: rspamd__local
#
rspamd__local:

  - data:
      rbl:
        raw:
          - '.include(try=true,priority=1) "$LOCAL_CONFDIR/local.d/rbl.conf"'
      metric "default":
        raw:
          - '.include(try=true,priority=1) "$LOCAL_CONFDIR/local.d/metric.conf"'

# .. envvar:: rspamd__local_d
#
# This variable contains a list of modules.
# Each module is embedded in the configuration of the natural form.
# Except for lines beginning with "raw: ["string","string"]".
# These strings are passed as is.
rspamd__local_d:

  - name: "metric"
    data:
      metric:
        raw:
          - "# test"

  - name: "rbl"
    data:
        rbls:
          sorbs:
            symbol: "RBL_SORBS"
            rbl: "dnsbl.sorbs.net"
            unknown: true
            returncodes:
              raw:
                - "# http:// www.sorbs.net/general/using.shtml"
              RBL_SORBS_HTTP: "127.0.0.2"
              RBL_SORBS_SOCKS: "127.0.0.3"
              RBL_SORBS_MISC: "127.0.0.4"
              RBL_SORBS_SMTP: "127.0.0.5"
              RBL_SORBS_RECENT: "127.0.0.6"
              RBL_SORBS_WEB: "127.0.0.7"
              RBL_SORBS_DUL: "127.0.0.10"
              RBL_SORBS_BLOCK: "127.0.0.8"
              RBL_SORBS_ZOMBIE: "127.0.0.9"
          dnswl:
            symbol: "RCVD_IN_DNSWL"
            rbl: "list.dnswl.org"
            ipv6: true
            is_whitelist: true
            unknown: true
            whitelist_exception:
              - "RCVD_IN_DNSWL"
              - "RCVD_IN_DNSWL_NONE"
              - "RCVD_IN_DNSWL_LOW"
              - "DNSWL_BLOCKED"
            returncodes:
              RCVD_IN_DNSWL_NONE: "127.0.%d+.0"
              RCVD_IN_DNSWL_LOW: "127.0.%d+.1"
              RCVD_IN_DNSWL_MED: "127.0.%d+.2"
              RCVD_IN_DNSWL_HI: "127.0.%d+.3"
              DNSWL_BLOCKED: "127.0.0.255"

## vim: foldmethod=marker:tabstop=2:shiftwidth=2:softtabstop=2
